(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{4476:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/[ticketId]",function(){return n(9567)}])},3544:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var t=n(5893),i=n(682),s=n(218),c=n(540),a=function(e){var r=e.currentUser;return(0,t.jsx)(s.Z,{bg:"light",className:"px-3",children:(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(s.Z.Brand,{href:"/",children:"GitTix"}),(0,t.jsx)(c.Z,{className:"d-flex justify-content-end align-items-center gap-3",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(c.Z.Link,{href:"/tickets/new",children:"Sell Tickets"})}),(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(c.Z.Link,{href:"/orders",children:"My Orders"})}),(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(c.Z.Link,{href:"/auth/signout",children:"Sign out"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(c.Z.Link,{href:"/auth/signup",children:"Sign up"})}),(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(c.Z.Link,{href:"/auth/signin",children:"Sign in"})})]})})]})})},u=function(e){var r=e.children,n=e.currentUser;return(0,t.jsxs)("div",{children:[(0,t.jsx)(a,{currentUser:n}),(0,t.jsx)(i.Z,{className:"mt-5",children:r})]})}},7423:function(e,r,n){"use strict";var t=n(4051),i=n.n(t),s=n(5893),c=n(9669),a=n.n(c),u=n(7294);function o(e,r,n,t,i,s,c){try{var a=e[s](c),u=a.value}catch(o){return void n(o)}a.done?r(u):Promise.resolve(u).then(t,i)}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){d(e,r,n[r])}))}return e}r.Z=function(e){var r=e.url,n=e.method,t=e.body,c=e.onSuccess,d=(0,u.useState)(null),h=d[0],f=d[1],v=function(){var e,u=(e=i().mark((function e(){var u,o,d,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=h.length>0&&void 0!==h[0]?h[0]:{},e.prev=1,f(null),e.next=5,a()[n](r,l({},t,u));case 5:return o=e.sent,c&&c(o.data),e.abrupt("return",o.data);case 10:e.prev=10,e.t0=e.catch(1),f((0,s.jsxs)("div",{className:"alert alert-danger",children:[(0,s.jsx)("h4",{children:"Ooops..."}),(0,s.jsx)("ul",{className:"my-0",children:null===(d=e.t0.response)||void 0===d?void 0:d.data.errors.map((function(e,r){return(0,s.jsx)("li",{children:e.message},r)}))})]}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var r=this,n=arguments;return new Promise((function(t,i){var s=e.apply(r,n);function c(e){o(s,t,i,c,a,"next",e)}function a(e){o(s,t,i,c,a,"throw",e)}c(void 0)}))});return function(){return u.apply(this,arguments)}}();return{doRequest:v,errors:h}}},9567:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSP:function(){return u}});var t=n(5893),i=n(1163),s=n(5005),c=n(3544),a=n(7423),u=!0;r.default=function(e){var r=e.currentUser,n=e.ticket,u=(0,a.Z)({url:"/api/orders",method:"post",body:{ticketId:n.id},onSuccess:function(e){return i.default.push("/orders/[orderId]","/orders/".concat(e.id))}}),o=u.doRequest,d=u.errors;return(0,t.jsxs)(c.Z,{currentUser:r,children:[(0,t.jsx)("h1",{className:"mb-4",children:n.title}),(0,t.jsxs)("h4",{className:"mb-4",children:["Price: $",n.price]}),d,n.orderId?(0,t.jsx)(s.Z,{variant:"danger",disabled:!0,children:"This ticket is currently reserved or has been purchased"}):n.userId===(null===r||void 0===r?void 0:r.id)?(0,t.jsx)(s.Z,{children:"Edit your ticket"}):(0,t.jsx)(s.Z,{onClick:function(){return o()},children:"Purchase ticket"})]})}},5005:function(e,r,n){"use strict";var t=n(4184),i=n.n(t),s=n(7294),c=n(861),a=n(6792),u=n(5893);const o=s.forwardRef((({as:e,bsPrefix:r,variant:n,size:t,active:s,className:o,...d},l)=>{const h=(0,a.vE)(r,"btn"),[f,{tagName:v}]=(0,c.FT)({tagName:e,...d}),x=v;return(0,u.jsx)(x,{...f,...d,ref:l,className:i()(o,h,s&&"active",n&&`${h}-${n}`,t&&`${h}-${t}`,d.href&&d.disabled&&"disabled")})}));o.displayName="Button",o.defaultProps={variant:"primary",active:!1,disabled:!1},r.Z=o}},function(e){e.O(0,[183,400,774,888,179],(function(){return r=4476,e(e.s=r);var r}));var r=e.O();_N_E=r}]);